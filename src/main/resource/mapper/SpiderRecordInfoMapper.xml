<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.netease.spiderSchedule.mapper.SpiderRecordInfoMapper">
	<sql id="Static_Column_List">
		id, appid, sourceid, create_time, update_time
	</sql>
	<sql id="Base_Column_List">
		id, appid, sourceid, title, url, type, storeid, create_time, update_time, modifykey, status
	</sql> 
	<select id="selectAll" resultType="com.netease.spiderSchedule.model.SpiderRecordInfo">
		select 
		<include refid="Static_Column_List" />
		from spider_record_info_test 
		where update_time > DATE_SUB(now(),INTERVAL 7 DAY)
	</select>
	<select id="selectInterval" resultType="com.netease.spiderSchedule.model.SpiderRecordInfo">
		select 
		<include refid="Static_Column_List" />
		from spider_record_info_test 
		where to_days(now()) - to_days(date_format(update_time,"%Y-%m-%d")) &gt;= #{0,jdbcType=INTEGER}
		and to_days(now()) - to_days(date_format(update_time,"%Y-%m-%d")) &lt; #{1,jdbcType=INTEGER} 
	</select>
</mapper>
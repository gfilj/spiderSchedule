<html>
	<head>
		<meta charset="utf-8">
		<title>dayChart</title>
		<script src="../static/Chart.js"></script>
		<style> 
			body{ text-align:center} 
		</style> 
	</head>
	<body>
		<!-- <div style="width:50%;margin:auto " >
			<div>
				<canvas id="canvas" height="50%" width="70%"></canvas>
			</div>
		</div> -->
		<div style="width:50%;margin:auto" >
			<div>
				<canvas id="canvas1" height="50%" width="70%"></canvas>
			</div>
		</div>


<script type="text/javascript">
	function loadChart()
	{
		var xmlhttp;
		if (window.XMLHttpRequest)
		{
			xmlhttp=new XMLHttpRequest();
		}
		else
		{
			xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		}
		xmlhttp.onreadystatechange=function()
		{
			if (xmlhttp.readyState==4 && xmlhttp.status==200)
			{
			   	var result = xmlhttp.responseText;
                //使用eval函数使返回的字符串变成js对象
                var datas = eval("(" + result + ")");
				/* var lineChartData = {
					labels : ["5","10","20","30","40","50","60","70","80","90","100","110","120","130","140","150","160","170","180","up"],
					datasets : [
						{
							label: "My First dataset",
							fillColor : "rgba(220,220,220,0.2)",
							strokeColor : "rgba(220,220,220,1)",
							pointColor : "rgba(220,220,220,1)",
							pointStrokeColor : "#fff",
							pointHighlightFill : "#fff",
							pointHighlightStroke : "rgba(220,220,220,1)",
							data : [datas[0].count5,
							        datas[0].count10,
							        datas[0].count20,
							        datas[0].count30,
							        datas[0].count40,
							        datas[0].count50,
							        datas[0].count60,
							        datas[0].count70,
							        datas[0].count80,
							        datas[0].count90,
							        datas[0].count100,
							        datas[0].count110,
							        datas[0].count120,
							        datas[0].count130,
							        datas[0].count140,
							        datas[0].count150,
							        datas[0].count160,
							        datas[0].count170,
							        datas[0].count180,
							        datas[0].countAll]
						},
						{
							label: "My Second dataset",
							fillColor : "rgba(151,187,205,0.2)",
							strokeColor : "rgba(151,187,205,1)",
							pointColor : "rgba(151,187,205,1)",
							pointStrokeColor : "#fff",
							pointHighlightFill : "#fff",
							pointHighlightStroke : "rgba(151,187,205,1)",
							data : [datas[1].count5,
							        datas[1].count10,
							        datas[1].count20,
							        datas[1].count30,
							        datas[1].count40,
							        datas[1].count50,
							        datas[1].count60,
							        datas[1].count70,
							        datas[1].count80,
							        datas[1].count90,
							        datas[1].count100,
							        datas[1].count110,
							        datas[1].count120,
							        datas[1].count130,
							        datas[1].count140,
							        datas[1].count150,
							        datas[1].count160,
							        datas[1].count170,
							        datas[1].count180,
							        datas[1].countAll]
						}
					]
		
				}
				var ctx = document.getElementById("canvas").getContext("2d");
				window.myLine = new Chart(ctx).Line(lineChartData, {
					responsive: true
				});
				 */
				
				
				var lineChartData = {
						labels : ["5","10","20","30","40","50","60","70","80","90","100","110","120","130","140","150","160","170","180","190","200","210","220","230","240","all"],
						datasets : [
							{
								label: "My First dataset",
								fillColor : "rgba(220,220,220,0.2)",
								strokeColor : "rgba(220,220,220,1)",
								pointColor : "rgba(220,220,220,1)",
								pointStrokeColor : "#fff",
								pointHighlightFill : "#fff",
								pointHighlightStroke : "rgba(220,220,220,1)",
								data : [datas[0].count5Percent,
								        datas[0].count10Percent,
								        datas[0].count20Percent,
								        datas[0].count30Percent,
								        datas[0].count40Percent,
								        datas[0].count50Percent,
								        datas[0].count60Percent,
								        datas[0].count70Percent,
								        datas[0].count80Percent,
								        datas[0].count90Percent,
								        datas[0].count100Percent,
								        datas[0].count110Percent,
								        datas[0].count120Percent,
								        datas[0].count130Percent,
								        datas[0].count140Percent,
								        datas[0].count150Percent,
								        datas[0].count160Percent,
								        datas[0].count170Percent,
								        datas[0].count180Percent,
								        datas[0].count190Percent,
								        datas[0].count200Percent,
								        datas[0].count210Percent,
								        datas[0].count220Percent,
								        datas[0].count230Percent,
								        datas[0].count240Percent,
								        datas[0].countAllPercent]
							},
							{
								label: "My Second dataset",
								fillColor : "rgba(151,187,205,0.2)",
								strokeColor : "rgba(151,187,205,1)",
								pointColor : "rgba(151,187,205,1)",
								pointStrokeColor : "#fff",
								pointHighlightFill : "#fff",
								pointHighlightStroke : "rgba(151,187,205,1)",
								data : [datas[1].count5Percent,
								        datas[1].count10Percent,
								        datas[1].count20Percent,
								        datas[1].count30Percent,
								        datas[1].count40Percent,
								        datas[1].count50Percent,
								        datas[1].count60Percent,
								        datas[1].count70Percent,
								        datas[1].count80Percent,
								        datas[1].count90Percent,
								        datas[1].count100Percent,
								        datas[1].count110Percent,
								        datas[1].count120Percent,
								        datas[1].count130Percent,
								        datas[1].count140Percent,
								        datas[1].count150Percent,
								        datas[1].count160Percent,
								        datas[1].count170Percent,
								        datas[1].count180Percent,
								        datas[1].count190Percent,
								        datas[1].count200Percent,
								        datas[1].count210Percent,
								        datas[1].count220Percent,
								        datas[1].count230Percent,
								        datas[1].count240Percent,
								        datas[1].countAllPercent]
							}
						]
			
					}
					var ctx = document.getElementById("canvas1").getContext("2d");
					window.myLine = new Chart(ctx).Line(lineChartData, {
						responsive: true
					});
			}
			
		}
		/* xmlhttp.open("POST","/statistics",true);
		xmlhttp.send(); */
		xmlhttp.open("POST","/predictRecord/1",true);
		xmlhttp.send(); 
	}	

	window.onload = function(){
		loadChart();
	}
</script>

	</body>
</html>